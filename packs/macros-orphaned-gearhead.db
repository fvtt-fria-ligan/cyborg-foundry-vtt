{"name":"PostCreate","type":"script","author":"b2QNVmhp9Nus7jmA","img":"icons/svg/dice-target.svg","scope":"global","command":"(async () => {\n  if (!actor) {\n    return;\n  }\n  const vehicle = actor.ownedVehicles().shift();\n  if (!vehicle) {\n    return;\n  }\n\n  let hpFormula = null;\n  const descript = vehicle.system.description.toLowerCase();\n  if (descript.includes(\"semi-autonomous quad-bot\")) {\n    hpFormula = \"1d8+@abilities.knowledge.value\";\n  } else if (descript.includes(\"flying drone\")) {\n    hpFormula = \"1d12+@abilities.knowledge.value\";\n  } else if (descript.includes(\"prototype crawler drone\")) {\n    hpFormula = \"1d10+@abilities.knowledge.value\";\n  }\n  if (hpFormula) {\n    const roll = new Roll(hpFormula, actor.getRollData()).evaluate({async: false});\n    await vehicle.update({\n      [\"system.hitPoints.max\"]: roll.total, \n      [\"system.hitPoints.value\"]: roll.total, \n    });\n  }\n})();","flags":{"core":{"sourceId":"Macro.gbwzSt4ULLlwIrBs"}},"ownership":{"default":1,"b2QNVmhp9Nus7jmA":3},"_stats":{"systemId":"cy_borg","systemVersion":"1.0.0","coreVersion":"10.285","createdTime":1663959917992,"modifiedTime":1663959917992,"lastModifiedBy":"b2QNVmhp9Nus7jmA"},"folder":null,"sort":0,"_id":"DuHI11DSH2oekxzd"}
